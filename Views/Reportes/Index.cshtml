@model FrontendQuickpass.Models.AutorizacionIngresoModel
@{
    ViewData["Title"] = "Reportes";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
    <link rel="stylesheet" href="~/css/reportes.css" />
}

<!-- Banner y pesta√±as -->
<div class="banner-wrapper">
    <!-- Banner Izquierdo -->
    <section class="custom-banner">
        <h1>Reportes Quickpass</h1>
    </section>
</div>

<div class="flex items-end gap-4 mt-6 ml-10">
    <!-- Reporte -->
    <div class="min-w-[220px]">
        <label for="f-reporte" class="block font-semibold mb-2">Reporte</label>
        <select id="f-reporte" class="w-full h-11 px-3 border border-gray-300 rounded-xl">
            <option value="">Seleccione</option>
            <option value="1">Lista Negra Motoristas</option>
            <option value="2">Ingreso de Camiones</option>
        </select>
    </div>

    <!-- Ingenio -->
    <div class="min-w-[200px]">
        <label for="f-ingenio" class="block font-semibold mb-2">Ingenio</label>
        <select id="f-ingenio" class="w-full h-11 px-3 border border-gray-300 rounded-xl">
            <option value="">Todos</option>
            <option value="JB">Ingenio Central Azucarero Jiboa</option>
            <option value="ILC">Ingenio La Caba√±a</option>
            <option value="IEA">Ingenio El √Ångel</option>
            <option value="ILM">Ingenio La Magdalena</option>
            <option value="ICHP">Ingenio Chaparrastique</option>
            <option value="CASSA">Compa√±√≠a Azucarera Salvadore√±a</option>
        </select>
    </div>

    <!-- Producto -->
    <div class="min-w-[140px]">
        <label for="f-producto" class="block font-semibold mb-2">Producto</label>
        <select id="f-producto" class="w-full h-11 px-3 border border-gray-300 rounded-xl">
            <option value="">Todos</option>
            <option value="AZ-001">Az√∫car</option>
            <option value="MEL-001">Melaza</option>
        </select>
    </div>

    <!-- Fecha -->
    <div class="min-w-[260px]">
        <label class="block font-semibold mb-2">Fecha</label>
        <div class="flex items-center gap-2">
            <input type="date" id="f-desde" class="w-full h-11 px-3 border border-gray-300 rounded-xl">
            <span class="font-bold">‚Äì</span>
            <input type="date" id="f-hasta" class="w-full h-11 px-3 border border-gray-300 rounded-xl">
        </div>
    </div>

    <!-- Bot√≥n en la misma fila -->
    <div>
        <button id="btn-generar"
                class="h-11 px-3 rounded-xl text-white bg-[#FD6104] hover:opacity-90 active:opacity-80 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed">
            <span id="btn-text">Buscar</span>
        </button>
    </div>
</div>

<div id="toolbar" class="toolbar hidden">
  <div class="muted"></div>
  <input type="search" id="f-busqueda" placeholder="Buscar‚Ä¶" />
</div>

<section id="exports" class="exports hidden">
    <button id="btn-pdf" class="btn-export" disabled>Descargar PDF</button>
    <button id="btn-excel" class="btn-export" disabled>Descargar Excel</button>
</section>

<section id="result">
    <div class="table-wrapper hidden">
        <table id="tabla" class="tabla">
            <thead id="thead"></thead>
            <tbody id="tbody"></tbody>
        </table>
    </div>

    <!-- üìÑ Paginador (debajo de la tabla) -->
    <div id="pager"></div>
</section>

@section Scripts
{
    <script>
        // Forzar ocultar spinner inmediatamente antes de cargar el script principal
        (function() {
            const spinner = document.getElementById('spinner-overlay');
            if (spinner) {
                spinner.style.display = 'none';
            }
        })();
    </script>
    <script src="~/js/reportes.js"></script>
}